<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
      PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
   "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="Buy.P001.D003">
	<resultMap id="B_P001_D003Result01" type="B_P001_D003VO">
	<!-- 2개는 product table로부터! -->
		<result property="represent_image" column="represent_image" />
		<result property="prod_title" column="prod_title" />
		<result property="prod_price" column="prod_price" />
		
		<!-- cart table로부터! -->
		<result property="memberid" column="memberid" />
		<result property="prod_number" column="prod_number" />
		<result property="cart_count" column="cart_count" />
	<!-- <result property="joinDate" column="option_number" /> -->
	</resultMap>

	<select id="cartList" resultMap="B_P001_D003Result01" parameterType="java.util.Map"> 
      <![CDATA[
         select c.prod_number, p.prod_title, p.prod_price, p.represent_image, c.cart_count
         from   cart c, product p, member m
	  ]]>	
	<where>
	 <![CDATA[ 
			 c.prod_number = p.prod_number
			and m.memberid = #{memberid}	
	]]>
	</where>
	</select>
	
	<!-- update id ="insertCart" parameterType="java.util.Map">
	<![CDATA[  
		update cart
		set 	memberid = #{memberid}, 
				prod_number = #{prod_number}, 
				cart_count = #{cart_count}	
	]]>
	
	<where>
		<![CDATA[  
		
		
	]]>
	</where>
	</update> -->
</mapper>